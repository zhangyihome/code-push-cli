<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta property="og:title" content="CodePush" />
  <meta property="og:site_name" content="CodePush"/>
  <meta property="og:description" content="CodePush Blog" />
  <meta property="og:image" content="https://microsoft.github.io/code-push/assets/images/fbshare.PNG" />
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@Microsoft">
  <meta name="twitter:title" content="CodePush">
  <meta name="twitter:description" content="CodePush Blog">
  <meta name="twitter:image" content="https://microsoft.github.io/code-push/assets/images/fbshare.PNG">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
  <meta name="description" content="CodePush Blog">

  <title>
    
      React Native IOS API &middot; CodePush
    
  </title>
  
  <!-- build:css  /assets/css/vendor.css -->
  <link rel="stylesheet" href="/code-push/libraries/bootstrap/dist/css/bootstrap.css" />
  <link rel="stylesheet" href="/code-push/libraries/highlightjs/styles/solarized_light.css">
  <link rel="stylesheet" href="/code-push/libraries/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/code-push/libraries/github-fork-ribbon-css/gh-fork-ribbon.css">
  <!-- endbuild -->
  
  <!-- CSS -->
  <!-- build:css /assets/css/style.min.css -->
  <link rel="stylesheet" href="/code-push/assets/stylesheets/style.css">
  <!-- endbuild -->             

  <!-- Icons --> <!-- TODO: Check that these all wok -->
  <link rel="apple-touch-icon" sizes="57x57" href="/code-push/assets/images/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/code-push/assets/images/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/code-push/assets/images/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/code-push/assets/images/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/code-push/assets/images/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/code-push/assets/images/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/code-push/assets/images/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/code-push/assets/images/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/code-push/assets/images/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/code-push/assets/images/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/code-push/assets/images/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/code-push/assets/images/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/code-push/assets/images/icons/favicon-16x16.png">
  <link rel="manifest" href="/code-push/assets/images/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#294E80">
  <meta name="msapplication-TileImage" content="/code-push/assets/images/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <!-- JS -->    
	<!-- build:js  /assets/js/vendors.js  -->	
	<script src="/code-push/libraries/jquery/dist/jquery.min.js"></script>
	<script src="/code-push/libraries/bootstrap/dist/js/bootstrap.js"></script>
  <script src="/code-push/libraries/zeroclipboard/dist/ZeroClipboard.min.js"></script>
  <script src="/code-push/libraries/anchorific.js/min/anchorific.min.js"></script>
  <script src="/code-push/libraries/toc/dist/toc.min.js"></script>
  <script src="/code-push/libraries/highlightjs/highlight.pack.min.js"></script>
  <!-- endbuild -->   
  
  <!-- build:js /assets/js/all.min.js -->
  <script src="/code-push/assets/javascript/global.js"></script>
  <script src="/code-push/assets/javascript/home.js"></script>  
  <script src="/code-push/assets/javascript/docs.js"></script>
  <script src="/code-push/assets/javascript/faq.js"></script>
  <!-- endbuild -->
 
  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/code-push/atom.xml">

    
</head>
<body>
    <header role="banner">
	<nav class="navbar navbar-default navbar-fixed-top">
		 <div class="container-fluid">
        	<!--<img class="fork-me-ribbon pull-right" src="../assets/images/fork_me_ribbon.svg" />-->
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle pull-left collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="/code-push/index.html">
						<img class="navbar-logo" src="/code-push/assets/images/codepush_navbar_logo.svg">
							<sup class="navbar-logo-text">PREVIEW</sup>
						</image>
					</a>
		    </div>
		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse navbar_center" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
				<li class=""><a href="/code-push/index.html#getting_started">Getting Started</a></li>
				<li class="active"><a href="/code-push/docs/index.html">Documentation</a></li>
		        <li class=""><a href="/code-push/faq/index.html">FAQ</a></li>
				<li class=""><a href="/code-push/blog/index.html">Blog</a></li>
                <li class=""><a href="/code-push/community/friends.html">Showcase</a></li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		</div><!-- /.container-fluid -->
	</nav>				   		
</header>
<div class="top_navbar_spacer"></div>
	<div class="docs">
    <div id="content" class="container main_content">                       
        <div class="col-md-3 toc-container hidden-sm hidden-xs">
            <div class="row">
<div class='site-toc-container'>
  <h2 class="site-toc-title">Table of Contents</h2>
  <ul class="site-toc">
    
      
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/getting-started.html">
                Getting Started
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/tutorials.html">
                Tutorials
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
          <li>
            <a class="" href="/code-push/docs/cli.html">
                Management CLI
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/node.html">
                Management SDK
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/cordova.html">
                Cordova Client SDK
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/react-native.html">
                React Native Client SDK
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/vsts-extension.html">
                VSTS Extension
            </a>
            
          </li>
          
        
      
          
  </ul>
</div>
</div>                          
        </div>      
        <div class="col-md-7 col-md-offset-1">
            <div class="row">
                <div class="xs-toc-container visible-sm visible-xs">        
                    <nav class='xs-toc'>
  <div class="toc-dropdown dropdown">
    <h2 class="site-toc-title">Table of Contents</h2>
    <a class="dropdown-toggle btn" data-toggle="dropdown" href="#">
      Select topic
      <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
          
            
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/getting-started.html>Getting Started</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/tutorials.html>Tutorials</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
                <li>
                  <a href=/code-push/docs/cli.html>Management CLI</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/node.html>Management SDK</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/cordova.html>Cordova Client SDK</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/react-native.html>React Native Client SDK</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/vsts-extension.html>VSTS Extension</a>
                </li>
                
              
            
      
    </ul>
  </div>    
</nav>


                </div>            
            </div>
            <div class="row">  
                <header class="doc-header">
                    <h1 class="doc-title">React Native IOS API</h1>
                    <!--<ul class="nav" style="display:inline-block;"><li><a class="edit-page-link" style="padding-left:0" href="https://microsoft.github.io/code-push_docs/react-native-code-push/api-ios.md" target="_blank"><span class="glyphicon glyphicon-pencil"></span><i>&nbsp;</i>Edit on GitHub</a></li></ul>-->
                </header>  
                <article class="doc-content">               
                    <p>The Objective-C API is made available by importing the <code>CodePush.h</code> header into your <code>AppDelegate.m</code> file, and consists of a single public class named <code>CodePush</code>.</p>

<h4>CodePush</h4>

<p>Contains static methods for retreiving the <code>NSURL</code> that represents the most recent JavaScript bundle file, and can be passed to the <code>RCTRootView</code>&rsquo;s <code>initWithBundleURL</code> method when bootstrapping your app in the <code>AppDelegate.m</code> file.</p>

<p>The <code>CodePush</code> class&rsquo; methods can be thought of as composite resolvers which always load the appropriate bundle, in order to accommodate the following scenarios:</p>

<ol>
<li><p>When an end-user installs your app from the store (e.g. <code>1.0.0</code>), they will get the JS bundle that is contained within the binary. This is the behavior you would get without using CodePush, but we make sure it doesn&rsquo;t break :)</p></li>
<li><p>As soon as you begin releasing CodePush updates, your end-users will get the JS bundle that represents the latest release for the configured deployment. This is the behavior that allows you to iterate beyond what you shipped to the store.</p></li>
<li><p>As soon as you release an update to the app store (e.g. <code>1.1.0</code>), and your end-users update it, they will once again get the JS bundle that is contained within the binary. This behavior ensures that CodePush updates that targetted a previous app store version aren&rsquo;t used (since we don&rsquo;t know it they would work), and your end-users always have a working version of your app.</p></li>
<li><p>Repeat #2 and #3 as the CodePush releases and app store releases continue on into infinity (and beyond?)</p></li>
</ol>

<p>Because of this behavior, you can safely deploy updates to both the app store(s) and CodePush as necesary, and rest assured that your end-users will always get the most recent version.</p>

<h5>Methods</h5>

<ul>
<li><p><strong>(NSURL *)bundleURL</strong> - Returns the most recent JS bundle <code>NSURL</code> as described above. This method assumes that the name of the JS bundle contained within your app binary is <code>main.jsbundle</code>.</p></li>
<li><p><strong>(NSURL *)bundleURLForResource:(NSString *)resourceName</strong> - Equivalent to the <code>bundleURL</code> method, but also allows customizing the name of the JS bundle that is looked for within the app binary. This is useful if you aren&rsquo;t naming this file <code>main</code> (which is the default convention). This method assumes that the JS bundle&rsquo;s extension is <code>*.jsbundle</code>.</p></li>
<li><p><strong>(NSURL *)bundleURLForResource:(NSString *)resourceName withExtension:(NSString *)resourceExtension</strong>: Equivalent to the <code>bundleURLForResource:</code> method, but also allows customizing the extension used by the JS bundle that is looked for within the app binary. This is useful if you aren&rsquo;t naming this file <code>*.jsbundle</code> (which is the default convention).</p></li>
<li><p><strong>(void)overrideAppVersion:(NSString *)appVersionOverride</strong> - Sets the version of the application&rsquo;s binary interface, which would otherwise default to the App Store version specified as the <code>CFBundleShortVersionString</code> in the <code>Info.plist</code>. This should be called a single time, before the bundle URL is loaded.</p></li>
<li><p><strong>(void)setDeploymentKey:(NSString *)deploymentKey</strong> - Sets the deployment key that the app should use when querying for updates. This is a dynamic alternative to setting the deployment key in your <code>Info.plist</code> and/or specifying a deployment key in JS when calling <code>checkForUpdate</code> or <code>sync</code>.</p></li>
</ul>
                    
                </article>
                <div class="feedback-container">
    <div class="widget">
        <div class="widget-error" style="display:none">
            <div class="header">
                <h3>Server trouble... â˜¹</h3>
            </div>
            <div class="message">
                <P>We appreciate the effort but we are having issues.</P>
            </div>
        </div>
        <div class="widget-thankyou" style="display:none">
            <div class="header">
                <h3>Thank you!</h3>
            </div>
            <div class="message">
                <P>We appreciate your feedback.</P>
            </div>
        </div>
        <div class="widget-message" style="display:none">
            <div class="header">
                <h3>Additional feedback</h3>
                <!--<span class="charCount">1000</span>-->
            </div>
            <textarea class="form-control widget-text" maxlength="1000" rows="4"></textarea>
            <div class="buttons">
                <button type="submit" onclick="updateFeed(true)">Submit</button>
                <button type="submit" onclick="updateFeed()">Skip this</button>
            </div>
        </div>
        <div class="widget-entry">
            <div class="header">
                <h3> Was this documentation helpful?</h3>
            </div>
            <div class="buttons">
                <button onclick="sendFeed(1)">Yes</button>
                <button onclick="sendFeed(0)"> No</button>
            </div>
        </div>
    </div>
</div>

<script>

    var baseURL="https://docsfeedback.azurewebsites.net/api/feedback/";
    var feedbackType, messageId;
    var docURL = window.location.host+window.location.pathname;
    var date = new Date().toUTCString();
    var project = "CodePush";

    function sendFeed(feedType){
        feedbackType = feedType;
        $.ajax({
            method: "POST",
            contentType: "application/x-www-form-urlencoded",
            crossDomain: true,
            cors: true,
            url: baseURL+"create",
            data: { Type: feedbackType, ParentURL: docURL, Project: project, CreationDate: date, Id: messageId}
        })
        .done(function(result, textStatus, xhr) {
            messageId = xhr.responseJSON.Id;
            $('.widget-entry').css('display','none');
            $('.widget-message').css('display','block');
        })
        .fail(function(req, status, error ) {
            console.log( 'Something went wrong - ', status, error );
            $('.widget-entry').css('display','none');
            $('.widget-error').css('display','block');
        });
    }

    function updateFeed(msg){
        var comments = $('.widget-text').val();
        if(msg){
            $.ajax({
                method: "PUT",
                contentType: "application/x-www-form-urlencoded",
                crossDomain: true,
                cors: true,
                url: baseURL+messageId,
                data: { Type: feedbackType, ParentURL: docURL, Project: project, CreationDate: date, Id: messageId, Message: comments}
            })
            .done(function() {
                $('.widget-message').css('display','none');
                $('.widget-thankyou').css('display','block');
            })
            .fail(function(req, status, error ) {
                console.log( 'Something went wrong - ', status, error );
                $('.widget-message').css('display','none');
                $('.widget-error').css('display','block');
            });
        }
        else{
            $('.widget-message').css('display','none');
            $('.widget-thankyou').css('display','block');
        }
        setTimeout(function(){
            $('.widget').fadeTo( "slow", 0);
        },4000);
    }

</script>
            </div>  
        </div>           
    </div>
</div>
	<footer>
    <div class="footer-container">
        <div class="container" id="footer">
            <div class="row">
                <div class="col-sm-9">
                    <div class="row">
                        <div class="col-sm-4">
                            <h4>General</h4>
                            <ul class="nav">
                                <!--TODO: CHECK LINKS-->
                                <li><a href="https://github.com/Microsoft/code-push/blob/master/LICENSE.md" target="_blank">License</a></li>
                                <li><a href="https://www.visualstudio.com/en-us/privacy-policy-vs" target="_blank">Privacy</a></li>
                                <li><a href="https://msdn.microsoft.com/en-us/cc300389" target="_blank">Terms of Service</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <h4>Community</h4>
                            <ul class="nav">
                                <li><a href="https://github.com/Microsoft/code-push/" target="_blank">GitHub Project</a></li>
                                <li><a href="https://stackoverflow.com/questions/tagged/codepush" target="_blank">Stack Overflow</a></li>
                                <li><a href="https://twitter.com/hashtag/codepush" target="_blank">#CodePush</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <h4>Documentation</h4>
                            <ul class="nav">
                                <li><a href="https://github.com/Microsoft/code-push/blob/master/cli/README.md" target="_blank">CLI Docs</a></li>
                                <li><a href="https://github.com/Microsoft/cordova-plugin-code-push/blob/master/README.md" target="_blank">Cordova Plugin Docs</a></li>
                                <li><a href="https://github.com/Microsoft/react-native-code-push/blob/master/README.md" target="_blank">React Native Plugin Docs</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3">
                    <h3><i class="fa fa-comment"></i> Talk to us!</h3>
                    <p>If you have any feedback or suggestions on how we can make CodePush more awesome, please contact via Twitter <a href="https://twitter.com/mscodepush">@mscodepush, <a href=mailto:codepush@microsoft.com>email us</a> or ping us in the <a href="https://discord.gg/0ZcbPKXt5bWxFdFu">#code-push</a> channel on Reactiflux (for React Native).</p>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid signature-container">
        <div class="container">
            <div class="row signature">          
                <p class="pull-left hidden-xs">Made with <span class="glyphicon glyphicon-heart"></span> in Redmond</p> 
                <div class="pull-right">
                    <p class="copyright pull-left">&copy;2012-2017 Microsoft
                    <img class="ms-logo-footer" src="/code-push/assets/images/Microsoft_logo.svg"/></p>
                </div>              
            </div>
        </div>        
    </div>
</footer>
	<script>
    
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-68566566-1', 'auto');
    
     // strip off trailing slashes
    var pathnameWithoutTrailingSlash = window.location.pathname.toLowerCase();
    var pathnameLength = pathnameWithoutTrailingSlash.length;
    
    if (pathnameLength > 1 && pathnameWithoutTrailingSlash.lastIndexOf("/") == pathnameLength - 1) {
        pathnameWithoutTrailingSlash = pathnameWithoutTrailingSlash.substring(0, pathnameLength - 1);
    }
    ga("send", "pageview", pathnameWithoutTrailingSlash);
    
    window.onhashchange = function () {
        ga("send", "pageview", window.location.pathname.toLowerCase() + window.location.hash);
    };    
    
</script>
</body>	
</html>